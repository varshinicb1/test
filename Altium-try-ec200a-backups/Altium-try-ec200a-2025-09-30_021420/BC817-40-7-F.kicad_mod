(module BC817-40-7-F (layer F.Cu) (tedit 655A4B1E)
  (descr "BC817-40-7-F (Diodes Inc.) - NPN, SOT-23 package. Generic SOT-23 footprint. Verify with datasheet for critical designs.")
  (tags "SOT-23 BC817 BC817-40")
  (attr smd)
  (fp_text reference REF** (at 0 1.8) (layer F.SilkS) hide
    (effects (font (size 1 1) (thickness 0.15)))
  )
  (fp_text value BC817-40-7-F (at 0 -1.8) (layer F.Fab)
    (effects (font (size 1 1) (thickness 0.15)))
  )

  ;; Pads: typical SOT-23 pin numbering 1-3 left-to-right when viewed from top with chamfer towards pin 1
  ;; Pad sizes chosen to be conservative; please adjust to your board house/assembly requirements.

  (pad 1 smd rect (at -1.8 0) (size 0.9 1.1) (layers F.Cu F.Paste F.Mask) (roundrect_rratio 0.25) (net 0))
  (pad 2 smd rect (at 0 0) (size 0.9 1.1) (layers F.Cu F.Paste F.Mask) (roundrect_rratio 0.25) (net 0))
  (pad 3 smd rect (at 1.8 0) (size 0.9 1.1) (layers F.Cu F.Paste F.Mask) (roundrect_rratio 0.25) (net 0))

  ;; courtyard, silkscreen and fab outlines
  (fp_line (start -2.6 -1.6) (end 2.6 -1.6) (layer F.CrtYd) (width 0.05))
  (fp_line (start 2.6 -1.6) (end 2.6 1.6) (layer F.CrtYd) (width 0.05))
  (fp_line (start 2.6 1.6) (end -2.6 1.6) (layer F.CrtYd) (width 0.05))
  (fp_line (start -2.6 1.6) (end -2.6 -1.6) (layer F.CrtYd) (width 0.05))

  (fp_line (start -2.6 -1.9) (end 2.6 -1.9) (layer F.Fab) (width 0.1))
  (fp_line (start 2.6 -1.9) (end 2.6 1.9) (layer F.Fab) (width 0.1))
  (fp_line (start 2.6 1.9) (end -2.6 1.9) (layer F.Fab) (width 0.1))
  (fp_line (start -2.6 1.9) (end -2.6 -1.9) (layer F.Fab) (width 0.1))

  ;; silkscreen pin-1 marker (dot)
  (fp_circle (center -2.0 1.2) (end -2.15 1.2) (layer F.SilkS) (width 0.12))

  ;; 3D model reference (use KiCad's SOT-23 3D model)
  (model ${KICAD6_3DMODEL_DIR}/Package_TO_SOT_SMD/SOT-23.step
    (offset (xyz 0 0 0))
    (scale (xyz 1 1 1))
    (rotate (xyz 0 0 0))
  )
)